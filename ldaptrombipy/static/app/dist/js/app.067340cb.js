(function(e){function t(t){for(var n,l,o=t[0],u=t[1],s=t[2],d=0,b=[];d<o.length;d++)l=o[d],Object.prototype.hasOwnProperty.call(c,l)&&c[l]&&b.push(c[l][0]),c[l]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);i&&i(t);while(b.length)b.shift()();return a.push.apply(a,s||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,o=1;o<r.length;o++){var u=r[o];0!==c[u]&&(n=!1)}n&&(a.splice(t--,1),e=l(l.s=r[0]))}return e}var n={},c={app:0},a=[];function l(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=e,l.c=n,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(r,n,function(t){return e[t]}.bind(null,n));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var i=u;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"37b9":function(e,t,r){e.exports=r.p+"img/camille.monchicourt.338966ca.jpg"},5370:function(e,t,r){"use strict";r("5405")},5405:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23");function c(e,t,r,c,a,l){var o=Object(n["k"])("TrombiCal");return Object(n["g"])(),Object(n["c"])(o,{msg:"Welcome to Your Vue.js App"})}var a=r("e40c"),l=r.n(a),o=Object(n["m"])("data-v-675da332");Object(n["i"])("data-v-675da332");var u={id:"wrapper"},s={id:"sidebar-wrapper"},i={class:"sidebar-nav"},d={id:"page-content-wrapper"},b={class:"container-fluid"},f={key:0},h={class:"card mb-3"},O={class:"row g-0"},p={class:"col-md-4"},j={key:1,src:l.a,class:"img-fluid rounded-start",alt:"Pensez à ajouter une photo"},A={class:"col-md-8"},v=Object(n["e"])(),g=Object(n["f"])("br",null,null,-1),m={class:"row"},y={class:"card",style:{width:"18rem"}},U={key:1,width:"100px",src:l.a,class:"card-img-top",alt:"..."};Object(n["h"])();var F=o((function(e,t,c,a,l,o){var F,P,w=Object(n["k"])("UserCard"),N=Object(n["k"])("UserCalendar");return Object(n["g"])(),Object(n["c"])("div",u,[Object(n["f"])("div",s,[Object(n["f"])("h1",{id:"refresh",onClick:t[1]||(t[1]=function(t){return e.refresh()})},"Trombi"),Object(n["f"])("ul",i,[(Object(n["g"])(!0),Object(n["c"])(n["a"],null,Object(n["j"])(e.allUsers,(function(t,r){return Object(n["g"])(),Object(n["c"])("li",{key:t},[Object(n["f"])("a",{class:"dep",href:"#",onClick:function(t){return e.setCurrDepartment(r)}},Object(n["l"])(r),9,["onClick"]),(Object(n["g"])(!0),Object(n["c"])(n["a"],null,Object(n["j"])(t,(function(t){return Object(n["g"])(),Object(n["c"])("a",{class:"person",key:t,onClick:function(r){return e.setCurrentUser(t)}},Object(n["l"])(t.displayName),9,["onClick"])})),128))])})),128))])]),Object(n["f"])("div",d,[Object(n["f"])("div",b,[e.currentUser?(Object(n["g"])(),Object(n["c"])("div",f,[Object(n["f"])("h2",null," Fiche "+Object(n["l"])(null===(F=e.currentUser)||void 0===F?void 0:F.displayName),1),Object(n["f"])("div",h,[Object(n["f"])("div",O,[Object(n["f"])("div",p,[e.currentUser.has_photo?(Object(n["g"])(),Object(n["c"])("img",{key:0,src:r("b5a1")("./".concat(null===(P=e.currentUser)||void 0===P?void 0:P.sAMAccountName,".jpg")),class:"img-fluid rounded-start",alt:"..."},null,8,["src"])):(Object(n["g"])(),Object(n["c"])("img",j))]),Object(n["f"])("div",A,[Object(n["f"])(w,{user:e.currentUser,onHasPhoto:t[2]||(t[2]=function(t){return e.changeHasPhotoProp(t)}),displayAddPhoto:""},null,8,["user"])])])]),Object(n["f"])("div",null,[Object(n["f"])(N,{user:e.currentUser},null,8,["user"])])])):Object(n["d"])("",!0),(Object(n["g"])(!0),Object(n["c"])(n["a"],null,Object(n["j"])(e.filteredUsers,(function(c,a){return Object(n["g"])(),Object(n["c"])("div",{key:c},[Object(n["f"])("h3",null,Object(n["l"])(a),1),v,g,Object(n["f"])("div",m,[(Object(n["g"])(!0),Object(n["c"])(n["a"],null,Object(n["j"])(c,(function(c){return Object(n["g"])(),Object(n["c"])("div",{class:"col-sm",key:c},[Object(n["f"])("div",y,[c.has_photo?(Object(n["g"])(),Object(n["c"])("img",{key:0,src:r("b5a1")("./".concat(null===c||void 0===c?void 0:c.sAMAccountName,".jpg")),class:"card-img-top"},null,8,["src"])):(Object(n["g"])(),Object(n["c"])("img",U)),Object(n["f"])(w,{user:c,onSetUser:t[3]||(t[3]=function(t){return e.setCurrentUser(t)}),displaySeeMoreBtn:""},null,8,["user"])])])})),128))])])})),128))])])])})),P=(r("d81d"),r("b64b"),r("159b"),r("bc3a")),w=r.n(P),N=(r("a4d3"),r("e01a"),{class:"card-body"}),C={class:"card-title"},S={key:0},B=Object(n["f"])("p",null," Téléphone portable : TODO ",-1),V={key:2},E=Object(n["f"])("br",null,null,-1),T={key:0,class:"custom-file"},k=Object(n["f"])("label",{class:"custom-file-label",for:"customFile"},"Ajouter ou modifier la photo",-1);function x(e,t,r,c,a,l){var o,u,s,i,d,b;return Object(n["g"])(),Object(n["c"])("div",N,[Object(n["f"])("h5",C,Object(n["l"])(null===(o=r.user)||void 0===o?void 0:o.displayName),1),(null===(u=r.user)||void 0===u||null===(s=u.description)||void 0===s?void 0:s.length)>0?(Object(n["g"])(),Object(n["c"])("p",S,Object(n["l"])(null===(i=r.user)||void 0===i?void 0:i.description[0]),1)):Object(n["d"])("",!0),Object(n["f"])("p",null," Téléphone bureau : "+Object(n["l"])(null===(d=r.user)||void 0===d?void 0:d.homePhone),1),B,Object(n["f"])("a",{href:"mailto: "+(null===(b=r.user)||void 0===b?void 0:b.mail),class:"btn btn-primary"},"Email",8,["href"]),r.displaySeeMoreBtn?(Object(n["g"])(),Object(n["c"])("button",{key:1,onClick:t[1]||(t[1]=function(e){return l.changeUser(r.user)}),class:"btn btn-outline-info ml-3"},"Voir plus")):Object(n["d"])("",!0),r.displayAddPhoto?(Object(n["g"])(),Object(n["c"])("div",V,[E,e.$config.SELF_UPLOAD_PHOTO?(Object(n["g"])(),Object(n["c"])("div",T,[Object(n["f"])("input",{onChange:t[2]||(t[2]=function(){return l.uploadImg&&l.uploadImg.apply(l,arguments)}),type:"file",class:"custom-file-input",id:"customFile"},null,32),k])):Object(n["d"])("",!0)])):Object(n["d"])("",!0)])}r("99af");var L={name:"user-card",props:{user:Object,displaySeeMoreBtn:Boolean,displayAddPhoto:Boolean},data:function(){return{photoPath:null,has_photo:!1}},methods:{changeUser:function(e){this.$emit("setUser",e)},uploadImg:function(e){var t=this;if(this.photoPath=e.target.files[0],this.photoPath){var r=new FormData;r.append("image",this.photoPath),w.a.post("".concat(this.$config.API_ENDPOINT,"/upload_photo/").concat(this.user.sAMAccountName),r).then((function(e){t.imagePath=e.data.path,t.$emit("hasPhoto",t.user.sAMAccountName)}))}}}};r("7a3d");L.render=x;var G=L,K=Object(n["f"])("div",{id:"calendar"},null,-1);function M(e,t,r,c,a,l){return Object(n["g"])(),Object(n["c"])("div",null,[K])}var q=r("573d"),z=r("7b50"),H=r("3cdd"),I=r("a20c"),Q=r("3e32"),W=r("e44e"),D={name:"user-calendar",props:{user:Object},watch:{user:function(){this.setUpCalendar()}},data:function(){return{calendar:null,nextButton:null,previousButton:null}},mounted:function(){this.setUpCalendar(this.user)},methods:{setUpCalendar:function(){console.log("USER",this.user.mail);var e=document.getElementById("calendar");this.calendar=new q["a"](e,{plugins:[H["b"],Q["a"],I["a"],z["a"],W["a"]],initialView:"dayGridWeek",events:{url:"".concat(this.$config.API_ENDPOINT,"/caldav/").concat(this.user.mail)},height:600,editable:!0,selectable:!0,headerToolbar:{left:"dayGridMonth,dayGridWeek,timeGridDay,listWeek",center:"title",right:"prev,next"},datesSet:this.dateChange}),this.calendar.render()}}};D.render=M;var Z=D,X={name:"trombi-cal",props:{msg:String},components:{UserCard:G,UserCalendar:Z},mounted:function(){var e=this;w.a.get("".concat(this.$config.API_ENDPOINT,"/users_order_by_dep")).then((function(t){e.allUsers=t.data,e.filteredUsers=e.allUsers}))},data:function(){return{departments:{},currentUser:null,allUsers:{},filteredUsers:{}}},methods:{setCurrentUser:function(e){this.currentUser=e,this.filteredUsers=[]},setCurrDepartment:function(e){var t=this;this.currentUser=null,this.curDepartment=e,this.filteredUsers={},Object.keys(this.allUsers).map((function(r){e==r&&(t.filteredUsers[e]=t.allUsers[e])}))},refresh:function(){this.filteredUsers=this.allUsers,this.currentUser=null},changeHasPhotoProp:function(e){var t=this;Object.keys(this.allUsers).forEach((function(r){t.allUsers[r].forEach((function(t){e==t.sAMAccountName&&(t.has_photo=!0)}))}))}}};r("5370");X.render=F,X.__scopeId="data-v-675da332";var R=X,Y={name:"App",components:{TrombiCal:R}};r("d5b3");Y.render=c;var J=Y;w.a.get("".concat("","/config.json")).then((function(e){var t=Object(n["b"])(J);t.config.globalProperties.$config=e.data,t.mount("#app")}))},"7a3d":function(e,t,r){"use strict";r("d13a")},b5a1:function(e,t,r){var n={"./camille.monchicourt.jpg":"37b9"};function c(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}c.keys=function(){return Object.keys(n)},c.resolve=a,e.exports=c,c.id="b5a1"},c0a5:function(e,t,r){},d13a:function(e,t,r){},d5b3:function(e,t,r){"use strict";r("c0a5")},e40c:function(e,t){e.exports="data:image/png;base64,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"}});
//# sourceMappingURL=app.067340cb.js.map